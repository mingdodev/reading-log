> 최근 프로젝트에 캐싱을 적용해보며, 요구사항에 맞는 개발이라함은 서비스의 규모 즉 측정가능한 수치 또한 포함되어야 함을 체감했다. 그동안은 소규모 서비스 운영만 경험했기 때문에 규모에 따라 달라지는 설계를 깊이 있게 고려해본 적이 없었다.

- 개략적인 규모 추정을 위해 알아야 할 표현 값들: 2의 제곱수, 응답지연, 가용성 수치

- 메모리는 빠르지만 디스크는 아직도 느리다.

## 예제: 트위터 QPS와 저장소 요구량 추정

#### 가정

- 월간 능동 사용자, **사용자 일간 활동 양상** (50% 사용자가 트위터를 매일 사용, 매일 평균 2건 올림, 미디어 포함 트윗은 10% 정도), 데이터는 5년간 보관

#### 추정

- QPS 추정치: 일간 능동 사용자 -> 초당 처리해야 하는 쿼리 수를 추정해나감. 최대 QPS는 QPS와 사용자가 최대일 떄의 조건으로 추정.

- 자장소 요구량: 평균 트윗 크기(tweet_id, text, media)를 바탕으로 저장소 요구량, **5년간** 저장소 요구량 추정

> 추정으로 최적의 선택을 하기 위해서, **사용자 데이터 수집**과 **기획에 기반한 적절한 설계**가 필수적이구나. 그동안은 사용자 근처에서만 생각했는데(사용자 피드백을 보니 이런 기능이 필요, 이 성능 개선이 필요) 그걸 기술로 연결하는 엔지니어링(일평균 사용자와 데이터 크기 기반의 인프라 설계)이 필요.

- 모호함을 방지하기 위해 **단위**에 익숙해지자.